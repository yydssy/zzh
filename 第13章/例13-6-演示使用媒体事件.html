<!doctype html>
<html>
<head>
<meta charset="utf-8">
</head>
<body onload="init()">
<video id="video1" autoplay onCanPlay="startVideo()" onended="stopTimeline()" autobuffer="true" width="600px" height="500px">
	<source src="medias/volcano.Ogg" type='video/ogg'>
	<source src="medias/volcano.mp4" type='video/mp4'>	
</video><br>
<button onClick="play()">播放</button>
<button onClick="pause()">暂停</button>
<script type="text/javascript">
var video;
function init(){
	video = document.getElementById("video1");
	//监听视频播放结束事件
	video.addEventListener("ended", function(){
		alert("播放结束。");		
	}, true);
	//发生错误
	video.addEventListener("error",function(){
		switch (video.error.code){
			case MediaError.MEDIA_ERROR_ABORTED:
				alert("视频的下载过程被中止。");
				break;
			case MediaError.MEDIA_ERROR_NETWORK:
				alert("网络发生故障，视频的下载过程被中止。");
				break;
			case MediaError.MEDIA_ERROR_DECODE:
				alert("解码失败。");
				break;
			case MediaError.MEDIA_ERROR_SRC_NOT_SUPPORTED:
				alert("媒体资源不可用或媒体格式不被支持。");
				break;
			default:
				alert("发生未知错误。");				
		}
	},false);
}
function play(){video.play();}	
function pause(){video.pause();}
</script>
</body>
</html>
